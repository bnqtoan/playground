<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu√° tr√¨nh Research S·∫£n Xu·∫•t K√™nh Truy·ªán Kinh D·ªã</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Gray 900 */
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -1.7rem;
            top: 0.5rem;
            width: 1.25rem;
            height: 1.25rem;
            background-color: #374151; /* Gray 700 */
            border: 4px solid #4f46e5; /* Indigo 600 */
            border-radius: 9999px;
            z-index: 10;
        }
        .spinner {
            border-top-color: #4f46e5;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .aspect-video-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
        }
        .aspect-video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="text-gray-200">

    <!-- Hero Section -->
    <div class="py-20 sm:py-28 bg-gray-900/50" style="background-image: linear-gradient(to bottom, #111827, #111827dd), url('https://placehold.co/1920x1080/1a202c/ffffff?text=H√†nh+Lang+T·ªëi'); background-size: cover; background-position: center;">
        <div class="max-w-4xl mx-auto px-6 lg:px-8 text-center">
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white leading-tight tracking-tight">
                Qu√° tr√¨nh Research S·∫£n Xu·∫•t K√™nh Truy·ªán Kinh D·ªã
            </h1>
            <p class="mt-4 text-lg sm:text-xl text-indigo-300 font-medium">
                M·ªôt Case Study V·ªÅ Vi·ªác H·ª£p T√°c V·ªõi AI ƒê·ªÉ X√¢y D·ª±ng K√™nh YouTube T·ª´ Con S·ªë 0
            </p>
            <p class="mt-6 max-w-2xl mx-auto text-base text-gray-400">
                D·ª± √°n m·∫´u: <span class="font-semibold text-indigo-400">K√™nh "H√†nh lang t·ªëi"</span>
            </p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-16 px-6 lg:px-8">
        
        <!-- 1. Gi·ªõi Thi·ªáu -->
        <section id="gioi-thieu" class="mb-20">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center text-indigo-400 mb-4">1. Gi·ªõi Thi·ªáu: T·ª´ √ù T∆∞·ªüng ƒê·∫øn Chi·∫øn L∆∞·ª£c</h2>
                <p class="text-gray-300 leading-relaxed text-center mb-10">
                    B·∫Øt ƒë·∫ßu m·ªôt k√™nh YouTube m·ªõi ƒë√≤i h·ªèi nhi·ªÅu h∆°n l√† ch·ªâ s·∫£n xu·∫•t video. Qu√° tr√¨nh n√†y l√† m·ªôt h√†nh tr√¨nh ƒëi t·ª´ m·ªôt √Ω t∆∞·ªüng s∆° kh·ªüi ("truy·ªán kinh d·ªã s√¢u s·∫Øc, kh√¥ng h√π d·ªça") ƒë·∫øn vi·ªác x√¢y d·ª±ng m·ªôt chi·∫øn l∆∞·ª£c th∆∞∆°ng hi·ªáu to√†n di·ªán. Tr·ªçng t√¢m c·ªßa giai ƒëo·∫°n ƒë·∫ßu l√† ƒë·ªãnh h√¨nh b·∫£n s·∫Øc k√™nh, thi·∫øt l·∫≠p c√°c quy t·∫Øc n·ªôi dung c·ªët l√µi, v√† x√°c ƒë·ªãnh r√µ gi√° tr·ªã ƒë·ªôc nh·∫•t mang l·∫°i cho kh√°n gi·∫£. ƒê√¢y l√† n·ªÅn t·∫£ng v·ªØng ch·∫Øc ƒë·ªÉ ƒë·∫£m b·∫£o m·ªçi n·ªôi dung s·∫£n xu·∫•t sau n√†y ƒë·ªÅu nh·∫•t qu√°n v√† ph·ª•c v·ª• ƒë√∫ng m·ª•c ti√™u ƒë√£ ƒë·ªÅ ra.
                </p>
            </div>
        </section>

        <!-- 2. C√°c b∆∞·ªõc th·∫£o lu·∫≠n v√† th·ª±c hi·ªán -->
        <section id="quy-trinh" class="mb-20">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center text-indigo-400 mb-4">2. C√°c B∆∞·ªõc Th·∫£o Lu·∫≠n & Th·ª±c Hi·ªán</h2>
                <p class="text-gray-400 mb-12 text-center">D∆∞·ªõi ƒë√¢y l√† t√≥m t·∫Øt c√°c giai ƒëo·∫°n ch√≠nh trong qu√° tr√¨nh brainstorming v√† ph√°t tri·ªÉn k√™nh, c√πng nh·ªØng ƒë√∫c k·∫øt v·ªÅ gi√° tr·ªã c·ªßa vi·ªác h·ª£p t√°c v·ªõi AI.</p>
                
                <div class="relative border-l-2 border-gray-700 ml-6 pl-10 space-y-12">
                    <!-- Giai ƒëo·∫°n 1 -->
                    <div class="timeline-item">
                        <h3 class="text-xl font-semibold text-white">Giai ƒëo·∫°n 1: ƒê·ªãnh h√¨nh & Nghi√™n c·ª©u</h3>
                        <p class="text-gray-400 mt-1">X√°c ƒë·ªãnh ng√°ch n·ªôi dung, ph√¢n t√≠ch ƒë·ªëi th·ªß v√† th·ªã tr∆∞·ªùng ƒë·ªÉ t√¨m ra h∆∞·ªõng ƒëi ƒë·ªôc ƒë√°o.</p>
                        <div class="mt-3 p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg">
                            <p class="font-semibold text-indigo-300">üí° ƒêi·ªÉm hay khi brainstorm v·ªõi AI:</p>
                            <p class="text-gray-300 mt-1">AI gi√∫p h·ªá th·ªëng h√≥a √Ω t∆∞·ªüng m√¥ng lung ban ƒë·∫ßu th√†nh m·ªôt chi·∫øn l∆∞·ª£c c√≥ c·∫•u tr√∫c, ƒë·ªìng th·ªùi cung c·∫•p c√°c ph√¢n t√≠ch th·ªã tr∆∞·ªùng d·ª±a tr√™n d·ªØ li·ªáu c√¥ng khai ƒë·ªÉ ƒë∆∞a ra quy·∫øt ƒë·ªãnh c√≥ c∆° s·ªü.</p>
                        </div>
                    </div>
                    <!-- Giai ƒëo·∫°n 2 -->
                    <div class="timeline-item">
                        <h3 class="text-xl font-semibold text-white">Giai ƒëo·∫°n 2: X√¢y d·ª±ng Quy tr√¨nh & Ti√™u chu·∫©n</h3>
                        <p class="text-gray-400 mt-1">Thi·∫øt l·∫≠p c√°c b·ªô h∆∞·ªõng d·∫´n (guideline) c·ª• th·ªÉ v·ªÅ vi·ªác ch·ªçn l·ªçc, bi√™n t·∫≠p v√† s·∫£n xu·∫•t n·ªôi dung ƒë·ªÉ ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng nh·∫•t qu√°n.</p>
                        <div class="mt-3 p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg">
                            <p class="font-semibold text-indigo-300">üí° ƒêi·ªÉm hay khi brainstorm v·ªõi AI:</p>
                            <p class="text-gray-300 mt-1">AI chuy·ªÉn h√≥a c√°c y√™u c·∫ßu tr·ª´u t∆∞·ª£ng th√†nh nh·ªØng quy t·∫Øc v·∫≠n h√†nh c·ª• th·ªÉ (v√≠ d·ª•: Guideline ƒë√°nh gi√° truy·ªán), t·∫°o ra m·ªôt b·ªô l·ªçc ch·∫•t l∆∞·ª£ng kh√°ch quan cho to√†n b·ªô quy tr√¨nh.</p>
                        </div>
                    </div>
                    <!-- Giai ƒëo·∫°n 3 -->
                    <div class="timeline-item">
                        <h3 class="text-xl font-semibold text-white">Giai ƒëo·∫°n 3: Ph√°t tri·ªÉn T√†i s·∫£n S√°ng t·∫°o & T·ª± ƒë·ªông h√≥a</h3>
                        <p class="text-gray-400 mt-1">T·∫°o ra c√°c prompt "plug-and-play" ƒë·ªÉ ƒëi·ªÅu khi·ªÉn c√°c AI kh√°c (t·∫°o h√¨nh, ƒë·ªçc truy·ªán) v√† t·ªëi ∆∞u h√≥a quy tr√¨nh s·∫£n xu·∫•t.</p>
                        <div class="mt-3 p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg">
                            <p class="font-semibold text-indigo-300">üí° ƒêi·ªÉm hay khi brainstorm v·ªõi AI:</p>
                            <p class="text-gray-300 mt-1">AI kh√¥ng ch·ªâ l√† ƒë·ªëi t∆∞·ª£ng b·ªã ƒëi·ªÅu khi·ªÉn m√† c√≤n l√† c√¥ng c·ª• ƒë·ªÉ t·∫°o ra c√°c "l·ªùi nh·∫Øc" ƒëi·ªÅu khi·ªÉn tinh vi h∆°n. Qu√° tr√¨nh n√†y gi√∫p chu·∫©n h√≥a v√† tƒÉng t·ªëc ƒë√°ng k·ªÉ vi·ªác s·∫£n xu·∫•t c√°c t√†i s·∫£n s√°ng t·∫°o.</p>
                        </div>
                    </div>
                     <!-- Giai ƒëo·∫°n 4 -->
                    <div class="timeline-item">
                        <h3 class="text-xl font-semibold text-white">Giai ƒëo·∫°n 4: Ho·∫°ch ƒë·ªãnh Chi·∫øn l∆∞·ª£c TƒÉng tr∆∞·ªüng</h3>
                        <p class="text-gray-400 mt-1">V·∫°ch ra k·∫ø ho·∫°ch d√†i h·∫°n v·ªÅ ki·∫øm ti·ªÅn, thu h√∫t kh√°n gi·∫£ ban ƒë·∫ßu v√† x√¢y d·ª±ng c·ªông ƒë·ªìng.</p>
                        <div class="mt-3 p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg">
                            <p class="font-semibold text-indigo-300">üí° ƒêi·ªÉm hay khi brainstorm v·ªõi AI:</p>
                            <p class="text-gray-300 mt-1">AI c√≥ th·ªÉ nhanh ch√≥ng t·ªïng h·ª£p c√°c m√¥ h√¨nh kinh doanh v√† chi·∫øn thu·∫≠t marketing ph·ªï bi·∫øn, sau ƒë√≥ ƒëi·ªÅu ch·ªânh ƒë·ªÉ ph√π h·ª£p v·ªõi ng√°ch n·ªôi dung c·ª• th·ªÉ c·ªßa k√™nh, cung c·∫•p m·ªôt danh s√°ch c√°c l·ª±a ch·ªçn chi·∫øn l∆∞·ª£c ƒë·ªÉ nh√† s√°ng t·∫°o c√¢n nh·∫Øc.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. C√°c c√¥ng c·ª• -->
        <section id="cong-cu" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-indigo-400 mb-4">3. C√°c C√¥ng C·ª• T∆∞∆°ng T√°c H·ªó Tr·ª£ S·∫£n Xu·∫•t</h2>
            <p class="text-gray-400 mb-12 text-center max-w-3xl mx-auto">ƒê√¢y l√† c√°c c√¥ng c·ª• ƒë∆∞·ª£c x√¢y d·ª±ng trong qu√° tr√¨nh research, s·ª≠ d·ª•ng Gemini API ƒë·ªÉ t·ª± ƒë·ªông h√≥a c√°c kh√¢u s√°ng t·∫°o v√† t·ªëi ∆∞u h√≥a n·ªôi dung.</p>
            
            <!-- API Key Settings Section -->
            <div id="api-key-settings" class="max-w-4xl mx-auto mb-12 p-6 bg-gray-800 border border-gray-700 rounded-xl transition-all duration-300">
                 <div class="flex items-center gap-x-3 mb-4">
                     <div class="p-2 rounded-full bg-indigo-600/20">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                    </div>
                    <h3 class="text-xl font-bold text-indigo-400">C√†i ƒë·∫∑t API Key</h3>
                </div>

                <div class="grid md:grid-cols-2 gap-x-8">
                    <div>
                         <p class="text-gray-400 mb-4 text-sm">
                            C√°c c√¥ng c·ª• n√†y c·∫ßn API c·ªßa Google Gemini. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng API key c·ªßa ri√™ng m√¨nh ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªáu su·∫•t. Key s·∫Ω ƒë∆∞·ª£c l∆∞u v√†o b·ªô nh·ªõ c·ª•c b·ªô tr√™n tr√¨nh duy·ªát c·ªßa b·∫°n.
                        </p>
                        <h4 class="font-semibold text-gray-300 mb-2">H∆∞·ªõng d·∫´n l·∫•y API Key:</h4>
                        <ol class="list-decimal list-inside text-gray-400 text-sm space-y-1">
                            <li>Truy c·∫≠p <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-indigo-400 hover:underline">Google AI Studio</a>.</li>
                            <li>ƒêƒÉng nh·∫≠p b·∫±ng t√†i kho·∫£n Google c·ªßa b·∫°n.</li>
                            <li>Nh·∫•n v√†o n√∫t "Create API key".</li>
                            <li>Sao ch√©p v√† d√°n key v√†o √¥ b√™n d∆∞·ªõi.</li>
                        </ol>
                    </div>
                    <div class="mt-4 md:mt-0">
                        <label for="api-key-input" class="block text-sm font-medium text-gray-300 mb-2">Google Gemini API Key:</label>
                        <div class="flex flex-col sm:flex-row gap-2">
                            <input type="password" id="api-key-input" class="flex-grow p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500" placeholder="ƒêi·ªÅn API Key c·ªßa b·∫°n...">
                            <button id="save-api-key-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition-colors">L∆∞u Key</button>
                        </div>
                        <p id="save-status" class="text-green-400 mt-2 text-sm h-5"></p>
                    </div>
                </div>
            </div>


            <!-- TOOL: Summarizer -->
            <div class="mb-10 bg-gray-800 border border-indigo-500/30 rounded-xl p-8">
                <div class="flex items-center mb-4">
                    <span class="text-3xl mr-3">üìù</span>
                    <h3 class="text-2xl font-bold text-white">C√¥ng C·ª• T√≥m T·∫Øt Truy·ªán</h3>
                </div>
                <p class="text-gray-400 mb-6">D√°n to√†n b·ªô truy·ªán v√†o ƒë√¢y ƒë·ªÉ nh·∫≠n m·ªôt b·∫£n t√≥m t·∫Øt c√¥ ƒë·ªçng, s·∫µn s√†ng cho vi·ªác nghi√™n c·ª©u t·ª´ kh√≥a ho·∫∑c t·∫°o n·ªôi dung.</p>
                <div class="space-y-4">
                    <label for="summarizer-story-content" class="block font-medium text-gray-300">D√°n to√†n b·ªô n·ªôi dung truy·ªán:</label>
                    <textarea id="summarizer-story-content" rows="8" class="w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500" placeholder="D√°n n·ªôi dung truy·ªán c·ªßa b·∫°n..."></textarea>
                    <button id="summarize-button" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center transition-colors duration-300">
                        <svg id="summarize-button-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg>
                        <span id="summarize-button-text">T√≥m T·∫Øt Ngay</span>
                        <div id="summarize-loading-spinner" class="spinner h-5 w-5 rounded-full border-2 border-t-2 border-white hidden ml-2"></div>
                    </button>
                </div>
                <div id="summarizer-result-container" class="mt-8 hidden">
                    <div class="border-t border-gray-700 pt-6">
                        <h4 class="text-xl font-semibold text-white mb-4">B·∫£n T√≥m T·∫Øt:</h4>
                        <div class="bg-gray-900 p-6 rounded-lg">
                            <p id="summary-output" class="text-gray-300 whitespace-pre-wrap"></p>
                            <button id="copy-summary-button" class="mt-4 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center transition-colors duration-300 text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg><span>Sao ch√©p T√≥m T·∫Øt</span></button>
                        </div>
                    </div>
                </div>
                <div id="summarizer-error-container" class="mt-6 hidden bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded-lg"><p id="summarizer-error-message"></p></div>
            </div>

            <!-- TOOL: Content Generator -->
            <div class="mb-10 bg-gray-800 border border-indigo-500/30 rounded-xl p-8">
                 <div class="flex items-center mb-4">
                    <span class="text-3xl mr-3">‚ú®</span>
                    <h3 class="text-2xl font-bold text-white">C√¥ng C·ª• S√°ng T·∫°o N·ªôi Dung SEO</h3>
                </div>
                <p class="text-gray-400 mb-6">D√°n t√≥m t·∫Øt c√¢u chuy·ªán c·ªßa b·∫°n v√†o ƒë√¢y, AI s·∫Ω t·∫°o ti√™u ƒë·ªÅ v√† m√¥ t·∫£ t·ªëi ∆∞u SEO theo phong c√°ch c·ªßa k√™nh "H√†nh lang t·ªëi".</p>
                <div class="space-y-4">
                    <label for="story-summary" class="block font-medium text-gray-300">Nh·∫≠p t√≥m t·∫Øt c√¢u chuy·ªán:</label>
                    <textarea id="story-summary" rows="6" class="w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500" placeholder="D√°n b·∫£n t√≥m t·∫Øt b·∫°n v·ª´a t·∫°o ·ªü tr√™n, ho·∫∑c vi·∫øt m·ªôt b·∫£n t√≥m t·∫Øt m·ªõi..."></textarea>
                    <button id="generate-button" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center transition-colors"><svg id="button-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z" clip-rule="evenodd" /></svg><span id="button-text">T·∫°o Ti√™u ƒê·ªÅ & M√¥ T·∫£</span><div id="loading-spinner" class="spinner h-5 w-5 rounded-full border-2 border-t-2 border-white hidden ml-2"></div></button>
                </div>
                <div id="result-container" class="mt-8 hidden"><div class="border-t border-gray-700 pt-6"><h4 class="text-xl font-semibold text-white mb-4">K·∫øt qu·∫£ t·ª´ Gemini:</h4><div class="bg-gray-900 p-6 rounded-lg space-y-6"><div><h5 class="text-lg font-semibold text-indigo-300 mb-2">G·ª£i √Ω Ti√™u ƒê·ªÅ:</h5><ul id="title-list" class="list-disc list-inside space-y-1 text-gray-300"></ul></div><div><h5 class="text-lg font-semibold text-indigo-300 mb-2">G·ª£i √Ω M√¥ T·∫£ Video:</h5><p id="description-text" class="text-gray-300 whitespace-pre-wrap"></p></div></div></div></div>
                <div id="error-container" class="mt-6 hidden bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded-lg"><p id="error-message"></p></div>
            </div>

            <!-- TOOL: Prompt Generator -->
            <div class="bg-gray-800 border border-indigo-500/30 rounded-xl p-8">
                <div class="flex items-center mb-4">
                    <span class="text-3xl mr-3">ü§ñ</span>
                    <h3 class="text-2xl font-bold text-white">C√¥ng C·ª• T·∫°o Prompt Chuy√™n S√¢u</h3>
                </div>
                <p class="text-gray-400 mb-6">D√°n n·ªôi dung truy·ªán v√†o, ch·ªçn t√°c v·ª•, v√† Gemini s·∫Ω t·∫°o ra m·ªôt prompt chi ti·∫øt, s√°t v·ªõi c√¢u chuy·ªán c·ªßa b·∫°n ƒë·ªÉ ƒëi·ªÅu khi·ªÉn c√°c AI kh√°c.</p>
                <div class="space-y-4">
                    <div><label for="story-content-textarea" class="block font-medium text-gray-300">D√°n to√†n b·ªô n·ªôi dung c√¢u chuy·ªán v√†o ƒë√¢y:</label><textarea id="story-content-textarea" rows="8" class="mt-2 w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500" placeholder="D√°n n·ªôi dung truy·ªán c·ªßa b·∫°n..."></textarea></div>
                    <div><label for="prompt-type-select" class="block font-medium text-gray-300">Ch·ªçn lo·∫°i prompt c·∫ßn t·∫°o:</label><select id="prompt-type-select" class="mt-2 w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500"><option value="keypoints_image">Prompt T·∫°o h√¨nh ·∫£nh Keypoints (ti·∫øng Anh)</option><option value="intro_outro_image">Prompt T·∫°o h√¨nh ·∫£nh Intro/Outro (ti·∫øng Anh)</option><option value="tts_guide">Prompt H∆∞·ªõng d·∫´n AI ƒë·ªçc truy·ªán (TTS)</option></select></div>
                    <button id="generate-prompt-button" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center transition-colors"><svg id="prompt-button-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg><span id="prompt-button-text">T·∫°o Prompt</span><div id="prompt-loading-spinner" class="spinner h-5 w-5 rounded-full border-2 border-t-2 border-white hidden ml-2"></div></button>
                </div>
                <div id="prompt-result-container" class="mt-8 hidden"><div class="border-t border-gray-700 pt-6"><h4 class="text-xl font-semibold text-white mb-4">Prompt ƒê∆∞·ª£c T·∫°o B·ªüi Gemini:</h4><div class="bg-gray-900 p-6 rounded-lg"><pre><code id="generated-prompt-output" class="text-gray-300 whitespace-pre-wrap font-mono text-sm"></code></pre><button id="copy-prompt-button" class="mt-4 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center transition-colors text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg><span>Sao ch√©p Prompt</span></button></div></div></div>
                <div id="prompt-error-container" class="mt-6 hidden bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded-lg"><p id="prompt-error-message"></p></div>
            </div>
        </section>

        <!-- 4. ƒê√∫c k·∫øt c√°c tip -->
        <section id="tips" class="mb-20">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center text-indigo-400 mb-4">4. ƒê√∫c K·∫øt C√°c Tip Khi L√†m Vi·ªác V·ªõi Gemini</h2>
                <p class="text-gray-400 mb-12 text-center">Qu√° tr√¨nh h·ª£p t√°c n√†y ƒë√£ r√∫t ra nhi·ªÅu kinh nghi·ªám qu√Ω b√°u ƒë·ªÉ t·ªëi ∆∞u h√≥a vi·ªác s·ª≠ d·ª•ng AI trong s√°ng t·∫°o n·ªôi dung.</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-lg text-white mb-2">B·∫Øt ƒê·∫ßu B·∫±ng T·∫ßm Nh√¨n, C·ª• Th·ªÉ H√≥a B·∫±ng B·ªëi C·∫£nh</h4>
                        <p class="text-gray-300">H√£y b·∫Øt ƒë·∫ßu v·ªõi m·ªôt √Ω t∆∞·ªüng l·ªõn (v√≠ d·ª•: "k√™nh kinh d·ªã s√¢u s·∫Øc"), sau ƒë√≥ cung c·∫•p cho AI nh·ªØng b·ªëi c·∫£nh c·ª• th·ªÉ (v√≠ d·ª•: "t√¥i d√πng AI ƒë·ªÉ vi·∫øt l·∫°i truy·ªán") ƒë·ªÉ AI c√≥ th·ªÉ ƒë∆∞a ra gi·∫£i ph√°p ph√π h·ª£p v√† th·ª±c t·∫ø nh·∫•t.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-lg text-white mb-2">S·ª≠ D·ª•ng AI Nh∆∞ M·ªôt ƒê·ªëi T√°c Brainstorm</h4>
                        <p class="text-gray-300">ƒê·ª´ng ch·ªâ ra l·ªánh. H√£y ƒë·∫∑t c√¢u h·ªèi, y√™u c·∫ßu ph√¢n t√≠ch, so s√°nh, v√† ƒë·ªÅ xu·∫•t c√°c ph∆∞∆°ng √°n. Qu√° tr√¨nh "ƒë·ªëi tho·∫°i" s·∫Ω gi√∫p b·∫°n kh√°m ph√° nh·ªØng g√≥c nh√¨n m·ªõi v√† c·ªßng c·ªë chi·∫øn l∆∞·ª£c c·ªßa m√¨nh.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-lg text-white mb-2">T·∫≠n D·ª•ng AI ƒê·ªÉ T·∫°o "Prompt Cho AI Kh√°c"</h4>
                        <p class="text-gray-300">ƒê√¢y l√† m·ªôt k·ªπ thu·∫≠t n√¢ng cao. S·ª≠ d·ª•ng m·ªôt AI ng√¥n ng·ªØ m·∫°nh ƒë·ªÉ t·∫°o ra c√°c l·ªùi nh·∫Øc chi ti·∫øt, chuy√™n nghi·ªáp nh·∫±m ƒëi·ªÅu khi·ªÉn c√°c AI chuy√™n d·ª•ng kh√°c (t·∫°o h√¨nh, ƒë·ªçc truy·ªán). ƒêi·ªÅu n√†y gi√∫p chu·∫©n h√≥a v√† n√¢ng cao ch·∫•t l∆∞·ª£ng ƒë·∫ßu ra.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-lg text-white mb-2">Lu√¥n C√≥ B∆∞·ªõc "Con Ng∆∞·ªùi" Gi√°m S√°t v√† Tinh Ch·ªânh</h4>
                        <p class="text-gray-300">AI l√† m·ªôt c√¥ng c·ª• h·ªó tr·ª£ m·∫°nh m·∫Ω, nh∆∞ng s·∫£n ph·∫©m cu·ªëi c√πng lu√¥n c·∫ßn c√≥ s·ª± tinh ch·ªânh, bi√™n t·∫≠p v√† ƒë√°nh gi√° c·ªßa con ng∆∞·ªùi ƒë·ªÉ ƒë·∫£m b·∫£o n√≥ truy·ªÅn t·∫£i ƒë√∫ng c·∫£m x√∫c, s·∫Øc th√°i v√† ch·∫•t l∆∞·ª£ng m√† b·∫°n mong mu·ªën.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. C√°c video th√†nh qu·∫£ -->
        <section id="thanh-qua" class="mb-20">
            <h2 class="text-3xl font-bold text-indigo-400 mb-2 text-center">5. C√°c Video Th√†nh Qu·∫£</h2>
            <p class="text-gray-400 mb-12 text-center">C√°c video ƒë∆∞·ª£c s·∫£n xu·∫•t d·ª±a tr√™n quy tr√¨nh v√† c√¥ng c·ª• ƒë∆∞·ª£c tr√¨nh b√†y trong SOP n√†y.</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-gray-800 p-4 rounded-xl border border-gray-700 shadow-lg">
                    <div class="aspect-video-container rounded-lg overflow-hidden">
                         <iframe src="https://www.youtube.com/embed/AnLIjLffCeo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
                <div class="bg-gray-800 p-4 rounded-xl border border-gray-700 shadow-lg">
                     <div class="aspect-video-container rounded-lg overflow-hidden">
                        <iframe src="https://www.youtube.com/embed/F19R4aeHM3E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
                <div class="bg-gray-800 p-4 rounded-xl border border-gray-700 shadow-lg">
                     <div class="aspect-video-container rounded-lg overflow-hidden">
                         <iframe src="https://www.youtube.com/embed/s9g2mNa6FIQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-gray-500">
            <p>&copy; 2024. SOP ƒë∆∞·ª£c x√¢y d·ª±ng d·ª±a tr√™n s·ª± h·ª£p t√°c gi·ªØa Nh√† s√°ng t·∫°o v√† Gemini.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // API Key Settings Logic
            const apiKeyInput = document.getElementById('api-key-input');
            const saveApiKeyButton = document.getElementById('save-api-key-button');
            const saveStatus = document.getElementById('save-status');

            const savedApiKey = localStorage.getItem('geminiApiKey');
            if (savedApiKey) {
                apiKeyInput.value = savedApiKey;
            }

            saveApiKeyButton.addEventListener('click', () => {
                localStorage.setItem('geminiApiKey', apiKeyInput.value.trim());
                saveStatus.textContent = 'ƒê√£ l∆∞u API Key!';
                setTimeout(() => { saveStatus.textContent = ''; }, 3000);
            });
            
            // Tool Elements
            const elements = {
                summarizer: {
                    btn: document.getElementById('summarize-button'),
                    storyContent: document.getElementById('summarizer-story-content'),
                    resultContainer: document.getElementById('summarizer-result-container'),
                    output: document.getElementById('summary-output'),
                    loadingSpinner: document.getElementById('summarize-loading-spinner'),
                    buttonText: document.getElementById('summarize-button-text'),
                    buttonIcon: document.getElementById('summarize-button-icon'),
                    errorContainer: document.getElementById('summarizer-error-container'),
                    errorMessage: document.getElementById('summarizer-error-message'),
                    copyButton: document.getElementById('copy-summary-button'),
                    baseText: 'T√≥m T·∫Øt Ngay',
                    loadingText: 'ƒêang t√≥m t·∫Øt...'
                },
                content: {
                    btn: document.getElementById('generate-button'),
                    summaryInput: document.getElementById('story-summary'),
                    resultContainer: document.getElementById('result-container'),
                    titleList: document.getElementById('title-list'),
                    descriptionText: document.getElementById('description-text'),
                    loadingSpinner: document.getElementById('loading-spinner'),
                    buttonText: document.getElementById('button-text'),
                    buttonIcon: document.getElementById('button-icon'),
                    errorContainer: document.getElementById('error-container'),
                    errorMessage: document.getElementById('error-message'),
                    baseText: 'T·∫°o Ti√™u ƒê·ªÅ & M√¥ T·∫£',
                    loadingText: 'ƒêang x·ª≠ l√Ω...'
                },
                prompt: {
                    btn: document.getElementById('generate-prompt-button'),
                    select: document.getElementById('prompt-type-select'),
                    storyContent: document.getElementById('story-content-textarea'),
                    resultContainer: document.getElementById('prompt-result-container'),
                    output: document.getElementById('generated-prompt-output'),
                    loadingSpinner: document.getElementById('prompt-loading-spinner'),
                    buttonText: document.getElementById('prompt-button-text'),
                    buttonIcon: document.getElementById('prompt-button-icon'),
                    errorContainer: document.getElementById('prompt-error-container'),
                    errorMessage: document.getElementById('prompt-error-message'),
                    copyButton: document.getElementById('copy-prompt-button'),
                    baseText: 'T·∫°o Prompt',
                    loadingText: 'ƒêang t·∫°o...'
                }
            };

            // Event Listeners
            elements.summarizer.btn.addEventListener('click', handleSummarize);
            elements.content.btn.addEventListener('click', handleGenerateContent);
            elements.prompt.btn.addEventListener('click', handleGeneratePrompt);
            elements.summarizer.copyButton.addEventListener('click', () => copyToClipboard(elements.summarizer.output.textContent, elements.summarizer.copyButton));
            elements.prompt.copyButton.addEventListener('click', () => copyToClipboard(elements.prompt.output.textContent, elements.prompt.copyButton));

            // Handlers
            async function handleSummarize() {
                const storyContent = elements.summarizer.storyContent.value.trim();
                if (!storyContent) {
                    showError("Vui l√≤ng d√°n n·ªôi dung truy·ªán c·∫ßn t√≥m t·∫Øt.", 'summarizer');
                    return;
                }
                setLoadingState(true, 'summarizer');
                hideError('summarizer');
                try {
                    const userPrompt = `H√£y t√≥m t·∫Øt c√¢u chuy·ªán kinh d·ªã sau ƒë√¢y m·ªôt c√°ch c√¥ ƒë·ªçng trong kho·∫£ng 70-120 t·ª´. B·∫£n t√≥m t·∫Øt c·∫ßn t·∫≠p trung v√†o c√°c y·∫øu t·ªë t√¢m l√Ω, b√≠ ·∫©n, v√† kh√¥ng kh√≠, ph√π h·ª£p ƒë·ªÉ l√†m ƒë·∫ßu v√†o cho c√¥ng c·ª• nghi√™n c·ª©u t·ª´ kh√≥a. Kh√¥ng ti·∫øt l·ªô k·∫øt truy·ªán. C√¢u chuy·ªán nh∆∞ sau: "${storyContent}"`;
                    const result = await callGeminiAPI([{ role: "user", parts: [{ text: userPrompt }] }]);
                    displaySummaryResult(result);
                } catch (error) {
                    console.error("Error calling Gemini API for summarizer:", error);
                    showError("ƒê√£ c√≥ l·ªói x·∫£y ra khi t√≥m t·∫Øt truy·ªán. " + error.message, 'summarizer');
                } finally {
                    setLoadingState(false, 'summarizer');
                }
            }

            async function handleGenerateContent() {
                const summary = elements.content.summaryInput.value.trim();
                if (!summary) {
                    showError("Vui l√≤ng nh·∫≠p t√≥m t·∫Øt c√¢u chuy·ªán.", 'content');
                    return;
                }
                setLoadingState(true, 'content');
                hideError('content');
                try {
                    const userPrompt = `D·ª±a v√†o t√≥m t·∫Øt c√¢u chuy·ªán sau ƒë√¢y, h√£y t·∫°o n·ªôi dung cho video YouTube. T√≥m t·∫Øt: "${summary}"`;
                    const generationConfig = {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "titles": { "type": "ARRAY", "items": { "type": "STRING" }, "description": "M·ªôt m·∫£ng ch·ª©a 5 g·ª£i √Ω ti√™u ƒë·ªÅ video b·∫±ng ti·∫øng Vi·ªát, h·∫•p d·∫´n, d∆∞·ªõi 70 k√Ω t·ª±, ph√π h·ª£p v·ªõi k√™nh kinh d·ªã t√¢m l√Ω 'H√†nh lang t·ªëi'." },
                                "description": { "type": "STRING", "description": "M·ªôt ƒëo·∫°n m√¥ t·∫£ video YouTube ho√†n ch·ªânh b·∫±ng ti·∫øng Vi·ªát, kho·∫£ng 250-300 t·ª´. ƒêo·∫°n m√¥ t·∫£ ph·∫£i c√≥ l·ªùi m·ªü ƒë·∫ßu h·∫•p d·∫´n, kh√¥ng ti·∫øt l·ªô k·∫øt truy·ªán, v√† k·∫øt th√∫c b·∫±ng l·ªùi k√™u g·ªçi ƒëƒÉng k√Ω k√™nh 'H√†nh lang t·ªëi' c√πng 3-5 hashtag li√™n quan." }
                            },
                            required: ["titles", "description"]
                        },
                    };
                    const result = await callGeminiAPI([{ role: "user", parts: [{ text: userPrompt }] }], generationConfig);
                    const parsedJson = JSON.parse(result);
                    displayContentResults(parsedJson);
                } catch (error) {
                    console.error("Error calling Gemini API for content:", error);
                    showError("ƒê√£ c√≥ l·ªói x·∫£y ra khi t·∫°o n·ªôi dung. " + error.message, 'content');
                } finally {
                    setLoadingState(false, 'content');
                }
            }
            
            async function handleGeneratePrompt() {
                const selectedType = elements.prompt.select.value;
                const storyContent = elements.prompt.storyContent.value.trim();
                if (!storyContent) {
                    showError("Vui l√≤ng d√°n n·ªôi dung c√¢u chuy·ªán v√†o √¥.", 'prompt');
                    return;
                }
                setLoadingState(true, 'prompt');
                hideError('prompt');
                
                const baseInstruction = `H√£y ph√¢n t√≠ch n·ªôi dung c√¢u chuy·ªán ƒë∆∞·ª£c cung c·∫•p d∆∞·ªõi ƒë√¢y. D·ª±a v√†o n·ªôi dung ƒë√≥, h√£y t·∫°o ra m·ªôt prompt chi ti·∫øt v√† chuy√™n nghi·ªáp.`;
                const storySection = `--- N·ªòI DUNG C√ÇU CHUY·ªÜN --- \n${storyContent}\n --- K·∫æT TH√öC N·ªòI DUNG ---`;
                let userRequest = '';
                
                switch (selectedType) {
                    case 'keypoints_image':
                        userRequest = `${baseInstruction} Y√äU C·∫¶U: T·∫°o m·ªôt 'master prompt' (b·∫±ng ti·∫øng Anh) ƒë·ªÉ h∆∞·ªõng d·∫´n m·ªôt AI t·∫°o h√¨nh. Master prompt n√†y ph·∫£i ch·ªâ d·∫´n AI ƒë√≥ t·∫°o ra 3-5 prompt h√¨nh ·∫£nh ri√™ng bi·ªát, t∆∞∆°ng ·ª©ng v·ªõi 3-5 kho·∫£nh kh·∫Øc ho·∫∑c bi·ªÉu t∆∞·ª£ng quan tr·ªçng nh·∫•t trong c√¢u chuy·ªán ƒë√£ cho. M·ªói prompt h√¨nh ·∫£nh ph·∫£i chi ti·∫øt, ph√π h·ª£p v·ªõi phong c√°ch 'kinh d·ªã s√¢u s·∫Øc, kh√¥ng h√π d·ªça', bao g·ªìm m√¥ t·∫£ c·∫£nh, kh√¥ng kh√≠, phong c√°ch ngh·ªá thu·∫≠t, b·∫£ng m√†u v√† c√°c t·ª´ kh√≥a ph·ªß ƒë·ªãnh. ${storySection}`;
                        break;
                    case 'intro_outro_image':
                        userRequest = `${baseInstruction} Y√äU C·∫¶U: T·∫°o m·ªôt prompt chi ti·∫øt (b·∫±ng ti·∫øng Anh) ƒë·ªÉ s·ª≠ d·ª•ng v·ªõi AI t·∫°o h√¨nh nh·∫±m t·∫°o ra h√¨nh ·∫£nh n·ªÅn cho intro/outro c·ªßa k√™nh 'H√†nh lang t·ªëi'. Prompt c·∫ßn ph·∫£i d·ª±a tr√™n kh√¥ng kh√≠ v√† c√°c y·∫øu t·ªë bi·ªÉu t∆∞·ª£ng t·ª´ c√¢u chuy·ªán ƒë√£ cho ƒë·ªÉ g·ª£i √Ω v·ªÅ m√†u s·∫Øc, √°nh s√°ng, v√† c·∫£m x√∫c t·ªïng th·ªÉ. Ph√¢n bi·ªát r√µ y√™u c·∫ßu cho intro (g·ª£i t√≤ m√≤) v√† outro (duy tr√¨ kh√¥ng kh√≠). ${storySection}`;
                        break;
                    case 'tts_guide':
                        userRequest = `${baseInstruction} Y√äU C·∫¶U: T·∫°o m·ªôt prompt h∆∞·ªõng d·∫´n chi ti·∫øt (b·∫±ng ti·∫øng Vi·ªát) ƒë·ªÉ ƒëi·ªÅu khi·ªÉn m·ªôt AI chuy·ªÉn vƒÉn b·∫£n th√†nh gi·ªçng n√≥i (TTS). M·ª•c ti√™u l√† ƒë·ªÉ AI ƒë√≥ ƒë·ªçc l·∫°i ch√≠nh c√¢u chuy·ªán n√†y. Prompt c·∫ßn ch·ªâ ƒë·ªãnh r√µ c√°c y·∫øu t·ªë: t√¥ng gi·ªçng (gi·ªçng mi·ªÅn Nam, tr·∫ßm, b√¨nh tƒ©nh, b√≠ ·∫©n), nh·ªãp ƒë·ªô, c√°ch ng·∫Øt ngh·ªâ chi·∫øn l∆∞·ª£c t·∫°i nh·ªØng ƒëo·∫°n cƒÉng th·∫≥ng ho·∫∑c m√¥ t·∫£ quan tr·ªçng c√≥ trong truy·ªán, v√† m·ª©c ƒë·ªô bi·ªÉu c·∫£m tinh t·∫ø. ${storySection}`;
                        break;
                }

                try {
                    const result = await callGeminiAPI([{ role: "user", parts: [{ text: userRequest }] }]);
                    displayPromptResult(result);
                } catch (error) {
                    console.error("Error calling Gemini API for prompt:", error);
                    showError("ƒê√£ c√≥ l·ªói x·∫£y ra khi t·∫°o prompt. " + error.message, 'prompt');
                } finally {
                    setLoadingState(false, 'prompt');
                }
            }


            // Helper Functions
            function getApiKey() {
                return apiKeyInput.value.trim() || localStorage.getItem('geminiApiKey') || "";
            }

            async function callGeminiAPI(chatHistory, generationConfig = null) {
                const payload = { contents: chatHistory };
                if (generationConfig) payload.generationConfig = generationConfig;
                const apiKey = getApiKey();
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    const errorBody = await response.json();
                    throw new Error(`L·ªói API: ${response.status} ${response.statusText}. Chi ti·∫øt: ${JSON.stringify(errorBody)}`);
                }
                const result = await response.json();
                if (result.candidates && result.candidates[0]?.content?.parts?.[0]) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    if (result.candidates?.[0]?.finishReason === 'SAFETY') {
                        const blockedCategories = result.candidates[0].safetyRatings.filter(r => r.probability !== 'NEGLIGIBLE').map(r => r.category).join(', ');
                        throw new Error(`N·ªôi dung b·ªã ch·∫∑n v√¨ l√Ω do an to√†n: ${blockedCategories || 'Kh√¥ng x√°c ƒë·ªãnh'}. Vui l√≤ng s·ª≠a l·∫°i n·ªôi dung truy·ªán.`);
                    }
                    throw new Error("Kh√¥ng nh·∫≠n ƒë∆∞·ª£c n·ªôi dung h·ª£p l·ªá t·ª´ Gemini. Ph·∫£n h·ªìi c√≥ th·ªÉ tr·ªëng ho·∫∑c kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng.");
                }
            }
            
            function copyToClipboard(text, buttonElement) {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    buttonElement.querySelector('span').textContent = 'ƒê√£ sao ch√©p!';
                    setTimeout(() => {
                        buttonElement.querySelector('span').textContent = 'Sao ch√©p ' + (buttonElement.id === 'copy-summary-button' ? 'T√≥m T·∫Øt' : 'Prompt');
                    }, 2000);
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                    buttonElement.querySelector('span').textContent = 'L·ªói!';
                }
                document.body.removeChild(textarea);
            }

            function setLoadingState(isLoading, toolType) {
                const tool = elements[toolType];
                if (tool) {
                    tool.btn.disabled = isLoading;
                    tool.buttonText.textContent = isLoading ? tool.loadingText : tool.baseText;
                    tool.loadingSpinner.classList.toggle('hidden', !isLoading);
                    tool.buttonIcon.classList.toggle('hidden', isLoading);
                }
            }

            function displayContentResults(data) {
                const tool = elements.content;
                tool.titleList.innerHTML = '';
                if (data.titles && Array.isArray(data.titles)) {
                    data.titles.forEach(title => {
                        const li = document.createElement('li');
                        li.textContent = title;
                        tool.titleList.appendChild(li);
                    });
                }
                tool.descriptionText.textContent = data.description || 'Kh√¥ng c√≥ m√¥ t·∫£.';
                tool.resultContainer.classList.remove('hidden');
            }
            
            function displaySummaryResult(summary) {
                const tool = elements.summarizer;
                tool.output.textContent = summary;
                tool.resultContainer.classList.remove('hidden');
            }

            function displayPromptResult(promptText) {
                const tool = elements.prompt;
                tool.output.textContent = promptText;
                tool.resultContainer.classList.remove('hidden');
            }

            function showError(message, toolType) {
                const tool = elements[toolType];
                if (tool) {
                    let finalMessage = message;
                    if(message.includes("API")){
                        finalMessage += " H√£y ki·ªÉm tra l·∫°i API Key trong ph·∫ßn C√†i ƒë·∫∑t ho·∫∑c th·ª≠ l·∫°i sau."
                    }
                    tool.errorMessage.textContent = finalMessage;
                    tool.errorContainer.classList.remove('hidden');
                }
            }

            function hideError(toolType) {
                const tool = elements[toolType];
                if(tool) tool.errorContainer.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
