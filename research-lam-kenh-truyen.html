<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quá trình Research Sản Xuất Kênh Truyện Kinh Dị</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Gray 900 */
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -1.7rem;
            top: 0.5rem;
            width: 1.25rem;
            height: 1.25rem;
            background-color: #374151; /* Gray 700 */
            border: 4px solid #4f46e5; /* Indigo 600 */
            border-radius: 9999px;
            z-index: 10;
        }
        .spinner {
            border-top-color: #4f46e5;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .aspect-video-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
        }
        .aspect-video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="text-gray-200">

    <!-- Hero Section -->
    <div class="py-20 sm:py-28 bg-gray-900/50" style="background-image: linear-gradient(to bottom, #111827, #111827dd), url('https://placehold.co/1920x1080/1a202c/ffffff?text=Hành+Lang+Tối'); background-size: cover; background-position: center;">
        <div class="max-w-4xl mx-auto px-6 lg:px-8 text-center">
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white leading-tight tracking-tight">
                Quá trình Research Sản Xuất Kênh Truyện Kinh Dị
            </h1>
            <p class="mt-4 text-lg sm:text-xl text-indigo-300 font-medium">
                Một Case Study Về Việc Hợp Tác Với AI Để Xây Dựng Kênh YouTube Từ Con Số 0
            </p>
            <p class="mt-6 max-w-2xl mx-auto text-base text-gray-400">
                Dự án mẫu: <span class="font-semibold text-indigo-400">Kênh "Hành lang tối"</span>
            </p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-16 px-6 lg:px-8">
        
        <!-- 1. Giới Thiệu -->
        <section id="gioi-thieu" class="mb-20">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center text-indigo-400 mb-4">1. Giới Thiệu: Từ Ý Tưởng Đến Chiến Lược</h2>
                <p class="text-gray-300 leading-relaxed text-center mb-10">
                    Bắt đầu một kênh YouTube mới đòi hỏi nhiều hơn là chỉ sản xuất video. Quá trình này là một hành trình đi từ một ý tưởng sơ khởi ("truyện kinh dị sâu sắc, không hù dọa") đến việc xây dựng một chiến lược thương hiệu toàn diện. Trọng tâm của giai đoạn đầu là định hình bản sắc kênh, thiết lập các quy tắc nội dung cốt lõi, và xác định rõ giá trị độc nhất mang lại cho khán giả. Đây là nền tảng vững chắc để đảm bảo mọi nội dung sản xuất sau này đều nhất quán và phục vụ đúng mục tiêu đã đề ra.
                </p>
            </div>
        </section>

        <!-- 2. Các bước thảo luận và thực hiện -->
        <section id="quy-trinh" class="mb-20">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center text-indigo-400 mb-4">2. Các Bước Thảo Luận & Thực Hiện</h2>
                <p class="text-gray-400 mb-12 text-center">Dưới đây là tóm tắt các giai đoạn chính trong quá trình brainstorming và phát triển kênh, cùng những đúc kết về giá trị của việc hợp tác với AI.</p>
                
                <div class="relative border-l-2 border-gray-700 ml-6 pl-10 space-y-12">
                    <!-- Giai đoạn 1 -->
                    <div class="timeline-item">
                        <h3 class="text-xl font-semibold text-white">Giai đoạn 1: Định hình & Nghiên cứu</h3>
                        <p class="text-gray-400 mt-1">Xác định ngách nội dung, phân tích đối thủ và thị trường để tìm ra hướng đi độc đáo.</p>
                        <div class="mt-3 p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg">
                            <p class="font-semibold text-indigo-300">💡 Điểm hay khi brainstorm với AI:</p>
                            <p class="text-gray-300 mt-1">AI giúp hệ thống hóa ý tưởng mông lung ban đầu thành một chiến lược có cấu trúc, đồng thời cung cấp các phân tích thị trường dựa trên dữ liệu công khai để đưa ra quyết định có cơ sở.</p>
                        </div>
                    </div>
                    <!-- Giai đoạn 2 -->
                    <div class="timeline-item">
                        <h3 class="text-xl font-semibold text-white">Giai đoạn 2: Xây dựng Quy trình & Tiêu chuẩn</h3>
                        <p class="text-gray-400 mt-1">Thiết lập các bộ hướng dẫn (guideline) cụ thể về việc chọn lọc, biên tập và sản xuất nội dung để đảm bảo chất lượng nhất quán.</p>
                        <div class="mt-3 p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg">
                            <p class="font-semibold text-indigo-300">💡 Điểm hay khi brainstorm với AI:</p>
                            <p class="text-gray-300 mt-1">AI chuyển hóa các yêu cầu trừu tượng thành những quy tắc vận hành cụ thể (ví dụ: Guideline đánh giá truyện), tạo ra một bộ lọc chất lượng khách quan cho toàn bộ quy trình.</p>
                        </div>
                    </div>
                    <!-- Giai đoạn 3 -->
                    <div class="timeline-item">
                        <h3 class="text-xl font-semibold text-white">Giai đoạn 3: Phát triển Tài sản Sáng tạo & Tự động hóa</h3>
                        <p class="text-gray-400 mt-1">Tạo ra các prompt "plug-and-play" để điều khiển các AI khác (tạo hình, đọc truyện) và tối ưu hóa quy trình sản xuất.</p>
                        <div class="mt-3 p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg">
                            <p class="font-semibold text-indigo-300">💡 Điểm hay khi brainstorm với AI:</p>
                            <p class="text-gray-300 mt-1">AI không chỉ là đối tượng bị điều khiển mà còn là công cụ để tạo ra các "lời nhắc" điều khiển tinh vi hơn. Quá trình này giúp chuẩn hóa và tăng tốc đáng kể việc sản xuất các tài sản sáng tạo.</p>
                        </div>
                    </div>
                     <!-- Giai đoạn 4 -->
                    <div class="timeline-item">
                        <h3 class="text-xl font-semibold text-white">Giai đoạn 4: Hoạch định Chiến lược Tăng trưởng</h3>
                        <p class="text-gray-400 mt-1">Vạch ra kế hoạch dài hạn về kiếm tiền, thu hút khán giả ban đầu và xây dựng cộng đồng.</p>
                        <div class="mt-3 p-4 bg-indigo-900/20 border border-indigo-500/30 rounded-lg">
                            <p class="font-semibold text-indigo-300">💡 Điểm hay khi brainstorm với AI:</p>
                            <p class="text-gray-300 mt-1">AI có thể nhanh chóng tổng hợp các mô hình kinh doanh và chiến thuật marketing phổ biến, sau đó điều chỉnh để phù hợp với ngách nội dung cụ thể của kênh, cung cấp một danh sách các lựa chọn chiến lược để nhà sáng tạo cân nhắc.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Các công cụ -->
        <section id="cong-cu" class="mb-20">
            <h2 class="text-3xl font-bold text-center text-indigo-400 mb-4">3. Các Công Cụ Tương Tác Hỗ Trợ Sản Xuất</h2>
            <p class="text-gray-400 mb-12 text-center max-w-3xl mx-auto">Đây là các công cụ được xây dựng trong quá trình research, sử dụng Gemini API để tự động hóa các khâu sáng tạo và tối ưu hóa nội dung.</p>
            
            <!-- API Key Settings Section -->
            <div id="api-key-settings" class="max-w-4xl mx-auto mb-12 p-6 bg-gray-800 border border-gray-700 rounded-xl transition-all duration-300">
                 <div class="flex items-center gap-x-3 mb-4">
                     <div class="p-2 rounded-full bg-indigo-600/20">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                    </div>
                    <h3 class="text-xl font-bold text-indigo-400">Cài đặt API Key</h3>
                </div>

                <div class="grid md:grid-cols-2 gap-x-8">
                    <div>
                         <p class="text-gray-400 mb-4 text-sm">
                            Các công cụ này cần API của Google Gemini. Bạn có thể sử dụng API key của riêng mình để đảm bảo hiệu suất. Key sẽ được lưu vào bộ nhớ cục bộ trên trình duyệt của bạn.
                        </p>
                        <h4 class="font-semibold text-gray-300 mb-2">Hướng dẫn lấy API Key:</h4>
                        <ol class="list-decimal list-inside text-gray-400 text-sm space-y-1">
                            <li>Truy cập <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-indigo-400 hover:underline">Google AI Studio</a>.</li>
                            <li>Đăng nhập bằng tài khoản Google của bạn.</li>
                            <li>Nhấn vào nút "Create API key".</li>
                            <li>Sao chép và dán key vào ô bên dưới.</li>
                        </ol>
                    </div>
                    <div class="mt-4 md:mt-0">
                        <label for="api-key-input" class="block text-sm font-medium text-gray-300 mb-2">Google Gemini API Key:</label>
                        <div class="flex flex-col sm:flex-row gap-2">
                            <input type="password" id="api-key-input" class="flex-grow p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500" placeholder="Điền API Key của bạn...">
                            <button id="save-api-key-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition-colors">Lưu Key</button>
                        </div>
                        <p id="save-status" class="text-green-400 mt-2 text-sm h-5"></p>
                    </div>
                </div>
            </div>


            <!-- TOOL: Summarizer -->
            <div class="mb-10 bg-gray-800 border border-indigo-500/30 rounded-xl p-8">
                <div class="flex items-center mb-4">
                    <span class="text-3xl mr-3">📝</span>
                    <h3 class="text-2xl font-bold text-white">Công Cụ Tóm Tắt Truyện</h3>
                </div>
                <p class="text-gray-400 mb-6">Dán toàn bộ truyện vào đây để nhận một bản tóm tắt cô đọng, sẵn sàng cho việc nghiên cứu từ khóa hoặc tạo nội dung.</p>
                <div class="space-y-4">
                    <label for="summarizer-story-content" class="block font-medium text-gray-300">Dán toàn bộ nội dung truyện:</label>
                    <textarea id="summarizer-story-content" rows="8" class="w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500" placeholder="Dán nội dung truyện của bạn..."></textarea>
                    <button id="summarize-button" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center transition-colors duration-300">
                        <svg id="summarize-button-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg>
                        <span id="summarize-button-text">Tóm Tắt Ngay</span>
                        <div id="summarize-loading-spinner" class="spinner h-5 w-5 rounded-full border-2 border-t-2 border-white hidden ml-2"></div>
                    </button>
                </div>
                <div id="summarizer-result-container" class="mt-8 hidden">
                    <div class="border-t border-gray-700 pt-6">
                        <h4 class="text-xl font-semibold text-white mb-4">Bản Tóm Tắt:</h4>
                        <div class="bg-gray-900 p-6 rounded-lg">
                            <p id="summary-output" class="text-gray-300 whitespace-pre-wrap"></p>
                            <button id="copy-summary-button" class="mt-4 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center transition-colors duration-300 text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg><span>Sao chép Tóm Tắt</span></button>
                        </div>
                    </div>
                </div>
                <div id="summarizer-error-container" class="mt-6 hidden bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded-lg"><p id="summarizer-error-message"></p></div>
            </div>

            <!-- TOOL: Content Generator -->
            <div class="mb-10 bg-gray-800 border border-indigo-500/30 rounded-xl p-8">
                 <div class="flex items-center mb-4">
                    <span class="text-3xl mr-3">✨</span>
                    <h3 class="text-2xl font-bold text-white">Công Cụ Sáng Tạo Nội Dung SEO</h3>
                </div>
                <p class="text-gray-400 mb-6">Dán tóm tắt câu chuyện của bạn vào đây, AI sẽ tạo tiêu đề và mô tả tối ưu SEO theo phong cách của kênh "Hành lang tối".</p>
                <div class="space-y-4">
                    <label for="story-summary" class="block font-medium text-gray-300">Nhập tóm tắt câu chuyện:</label>
                    <textarea id="story-summary" rows="6" class="w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500" placeholder="Dán bản tóm tắt bạn vừa tạo ở trên, hoặc viết một bản tóm tắt mới..."></textarea>
                    <button id="generate-button" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center transition-colors"><svg id="button-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z" clip-rule="evenodd" /></svg><span id="button-text">Tạo Tiêu Đề & Mô Tả</span><div id="loading-spinner" class="spinner h-5 w-5 rounded-full border-2 border-t-2 border-white hidden ml-2"></div></button>
                </div>
                <div id="result-container" class="mt-8 hidden"><div class="border-t border-gray-700 pt-6"><h4 class="text-xl font-semibold text-white mb-4">Kết quả từ Gemini:</h4><div class="bg-gray-900 p-6 rounded-lg space-y-6"><div><h5 class="text-lg font-semibold text-indigo-300 mb-2">Gợi ý Tiêu Đề:</h5><ul id="title-list" class="list-disc list-inside space-y-1 text-gray-300"></ul></div><div><h5 class="text-lg font-semibold text-indigo-300 mb-2">Gợi ý Mô Tả Video:</h5><p id="description-text" class="text-gray-300 whitespace-pre-wrap"></p></div></div></div></div>
                <div id="error-container" class="mt-6 hidden bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded-lg"><p id="error-message"></p></div>
            </div>

            <!-- TOOL: Prompt Generator -->
            <div class="bg-gray-800 border border-indigo-500/30 rounded-xl p-8">
                <div class="flex items-center mb-4">
                    <span class="text-3xl mr-3">🤖</span>
                    <h3 class="text-2xl font-bold text-white">Công Cụ Tạo Prompt Chuyên Sâu</h3>
                </div>
                <p class="text-gray-400 mb-6">Dán nội dung truyện vào, chọn tác vụ, và Gemini sẽ tạo ra một prompt chi tiết, sát với câu chuyện của bạn để điều khiển các AI khác.</p>
                <div class="space-y-4">
                    <div><label for="story-content-textarea" class="block font-medium text-gray-300">Dán toàn bộ nội dung câu chuyện vào đây:</label><textarea id="story-content-textarea" rows="8" class="mt-2 w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500" placeholder="Dán nội dung truyện của bạn..."></textarea></div>
                    <div><label for="prompt-type-select" class="block font-medium text-gray-300">Chọn loại prompt cần tạo:</label><select id="prompt-type-select" class="mt-2 w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-gray-200 focus:ring-2 focus:ring-indigo-500"><option value="keypoints_image">Prompt Tạo hình ảnh Keypoints (tiếng Anh)</option><option value="intro_outro_image">Prompt Tạo hình ảnh Intro/Outro (tiếng Anh)</option><option value="tts_guide">Prompt Hướng dẫn AI đọc truyện (TTS)</option></select></div>
                    <button id="generate-prompt-button" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center transition-colors"><svg id="prompt-button-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg><span id="prompt-button-text">Tạo Prompt</span><div id="prompt-loading-spinner" class="spinner h-5 w-5 rounded-full border-2 border-t-2 border-white hidden ml-2"></div></button>
                </div>
                <div id="prompt-result-container" class="mt-8 hidden"><div class="border-t border-gray-700 pt-6"><h4 class="text-xl font-semibold text-white mb-4">Prompt Được Tạo Bởi Gemini:</h4><div class="bg-gray-900 p-6 rounded-lg"><pre><code id="generated-prompt-output" class="text-gray-300 whitespace-pre-wrap font-mono text-sm"></code></pre><button id="copy-prompt-button" class="mt-4 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center transition-colors text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg><span>Sao chép Prompt</span></button></div></div></div>
                <div id="prompt-error-container" class="mt-6 hidden bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded-lg"><p id="prompt-error-message"></p></div>
            </div>
        </section>

        <!-- 4. Đúc kết các tip -->
        <section id="tips" class="mb-20">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center text-indigo-400 mb-4">4. Đúc Kết Các Tip Khi Làm Việc Với Gemini</h2>
                <p class="text-gray-400 mb-12 text-center">Quá trình hợp tác này đã rút ra nhiều kinh nghiệm quý báu để tối ưu hóa việc sử dụng AI trong sáng tạo nội dung.</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-lg text-white mb-2">Bắt Đầu Bằng Tầm Nhìn, Cụ Thể Hóa Bằng Bối Cảnh</h4>
                        <p class="text-gray-300">Hãy bắt đầu với một ý tưởng lớn (ví dụ: "kênh kinh dị sâu sắc"), sau đó cung cấp cho AI những bối cảnh cụ thể (ví dụ: "tôi dùng AI để viết lại truyện") để AI có thể đưa ra giải pháp phù hợp và thực tế nhất.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-lg text-white mb-2">Sử Dụng AI Như Một Đối Tác Brainstorm</h4>
                        <p class="text-gray-300">Đừng chỉ ra lệnh. Hãy đặt câu hỏi, yêu cầu phân tích, so sánh, và đề xuất các phương án. Quá trình "đối thoại" sẽ giúp bạn khám phá những góc nhìn mới và củng cố chiến lược của mình.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-lg text-white mb-2">Tận Dụng AI Để Tạo "Prompt Cho AI Khác"</h4>
                        <p class="text-gray-300">Đây là một kỹ thuật nâng cao. Sử dụng một AI ngôn ngữ mạnh để tạo ra các lời nhắc chi tiết, chuyên nghiệp nhằm điều khiển các AI chuyên dụng khác (tạo hình, đọc truyện). Điều này giúp chuẩn hóa và nâng cao chất lượng đầu ra.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg border border-gray-700">
                        <h4 class="font-semibold text-lg text-white mb-2">Luôn Có Bước "Con Người" Giám Sát và Tinh Chỉnh</h4>
                        <p class="text-gray-300">AI là một công cụ hỗ trợ mạnh mẽ, nhưng sản phẩm cuối cùng luôn cần có sự tinh chỉnh, biên tập và đánh giá của con người để đảm bảo nó truyền tải đúng cảm xúc, sắc thái và chất lượng mà bạn mong muốn.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. Các video thành quả -->
        <section id="thanh-qua" class="mb-20">
            <h2 class="text-3xl font-bold text-indigo-400 mb-2 text-center">5. Các Video Thành Quả</h2>
            <p class="text-gray-400 mb-12 text-center">Các video được sản xuất dựa trên quy trình và công cụ được trình bày trong SOP này.</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-gray-800 p-4 rounded-xl border border-gray-700 shadow-lg">
                    <div class="aspect-video-container rounded-lg overflow-hidden">
                         <iframe src="https://www.youtube.com/embed/AnLIjLffCeo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
                <div class="bg-gray-800 p-4 rounded-xl border border-gray-700 shadow-lg">
                     <div class="aspect-video-container rounded-lg overflow-hidden">
                        <iframe src="https://www.youtube.com/embed/F19R4aeHM3E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
                <div class="bg-gray-800 p-4 rounded-xl border border-gray-700 shadow-lg">
                     <div class="aspect-video-container rounded-lg overflow-hidden">
                         <iframe src="https://www.youtube.com/embed/s9g2mNa6FIQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-gray-500">
            <p>&copy; 2024. SOP được xây dựng dựa trên sự hợp tác giữa Nhà sáng tạo và Gemini.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // API Key Settings Logic
            const apiKeyInput = document.getElementById('api-key-input');
            const saveApiKeyButton = document.getElementById('save-api-key-button');
            const saveStatus = document.getElementById('save-status');

            const savedApiKey = localStorage.getItem('geminiApiKey');
            if (savedApiKey) {
                apiKeyInput.value = savedApiKey;
            }

            saveApiKeyButton.addEventListener('click', () => {
                localStorage.setItem('geminiApiKey', apiKeyInput.value.trim());
                saveStatus.textContent = 'Đã lưu API Key!';
                setTimeout(() => { saveStatus.textContent = ''; }, 3000);
            });
            
            // Tool Elements
            const elements = {
                summarizer: {
                    btn: document.getElementById('summarize-button'),
                    storyContent: document.getElementById('summarizer-story-content'),
                    resultContainer: document.getElementById('summarizer-result-container'),
                    output: document.getElementById('summary-output'),
                    loadingSpinner: document.getElementById('summarize-loading-spinner'),
                    buttonText: document.getElementById('summarize-button-text'),
                    buttonIcon: document.getElementById('summarize-button-icon'),
                    errorContainer: document.getElementById('summarizer-error-container'),
                    errorMessage: document.getElementById('summarizer-error-message'),
                    copyButton: document.getElementById('copy-summary-button'),
                    baseText: 'Tóm Tắt Ngay',
                    loadingText: 'Đang tóm tắt...'
                },
                content: {
                    btn: document.getElementById('generate-button'),
                    summaryInput: document.getElementById('story-summary'),
                    resultContainer: document.getElementById('result-container'),
                    titleList: document.getElementById('title-list'),
                    descriptionText: document.getElementById('description-text'),
                    loadingSpinner: document.getElementById('loading-spinner'),
                    buttonText: document.getElementById('button-text'),
                    buttonIcon: document.getElementById('button-icon'),
                    errorContainer: document.getElementById('error-container'),
                    errorMessage: document.getElementById('error-message'),
                    baseText: 'Tạo Tiêu Đề & Mô Tả',
                    loadingText: 'Đang xử lý...'
                },
                prompt: {
                    btn: document.getElementById('generate-prompt-button'),
                    select: document.getElementById('prompt-type-select'),
                    storyContent: document.getElementById('story-content-textarea'),
                    resultContainer: document.getElementById('prompt-result-container'),
                    output: document.getElementById('generated-prompt-output'),
                    loadingSpinner: document.getElementById('prompt-loading-spinner'),
                    buttonText: document.getElementById('prompt-button-text'),
                    buttonIcon: document.getElementById('prompt-button-icon'),
                    errorContainer: document.getElementById('prompt-error-container'),
                    errorMessage: document.getElementById('prompt-error-message'),
                    copyButton: document.getElementById('copy-prompt-button'),
                    baseText: 'Tạo Prompt',
                    loadingText: 'Đang tạo...'
                }
            };

            // Event Listeners
            elements.summarizer.btn.addEventListener('click', handleSummarize);
            elements.content.btn.addEventListener('click', handleGenerateContent);
            elements.prompt.btn.addEventListener('click', handleGeneratePrompt);
            elements.summarizer.copyButton.addEventListener('click', () => copyToClipboard(elements.summarizer.output.textContent, elements.summarizer.copyButton));
            elements.prompt.copyButton.addEventListener('click', () => copyToClipboard(elements.prompt.output.textContent, elements.prompt.copyButton));

            // Handlers
            async function handleSummarize() {
                const storyContent = elements.summarizer.storyContent.value.trim();
                if (!storyContent) {
                    showError("Vui lòng dán nội dung truyện cần tóm tắt.", 'summarizer');
                    return;
                }
                setLoadingState(true, 'summarizer');
                hideError('summarizer');
                try {
                    const userPrompt = `Hãy tóm tắt câu chuyện kinh dị sau đây một cách cô đọng trong khoảng 70-120 từ. Bản tóm tắt cần tập trung vào các yếu tố tâm lý, bí ẩn, và không khí, phù hợp để làm đầu vào cho công cụ nghiên cứu từ khóa. Không tiết lộ kết truyện. Câu chuyện như sau: "${storyContent}"`;
                    const result = await callGeminiAPI([{ role: "user", parts: [{ text: userPrompt }] }]);
                    displaySummaryResult(result);
                } catch (error) {
                    console.error("Error calling Gemini API for summarizer:", error);
                    showError("Đã có lỗi xảy ra khi tóm tắt truyện. " + error.message, 'summarizer');
                } finally {
                    setLoadingState(false, 'summarizer');
                }
            }

            async function handleGenerateContent() {
                const summary = elements.content.summaryInput.value.trim();
                if (!summary) {
                    showError("Vui lòng nhập tóm tắt câu chuyện.", 'content');
                    return;
                }
                setLoadingState(true, 'content');
                hideError('content');
                try {
                    const userPrompt = `Dựa vào tóm tắt câu chuyện sau đây, hãy tạo nội dung cho video YouTube. Tóm tắt: "${summary}"`;
                    const generationConfig = {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "OBJECT",
                            properties: {
                                "titles": { "type": "ARRAY", "items": { "type": "STRING" }, "description": "Một mảng chứa 5 gợi ý tiêu đề video bằng tiếng Việt, hấp dẫn, dưới 70 ký tự, phù hợp với kênh kinh dị tâm lý 'Hành lang tối'." },
                                "description": { "type": "STRING", "description": "Một đoạn mô tả video YouTube hoàn chỉnh bằng tiếng Việt, khoảng 250-300 từ. Đoạn mô tả phải có lời mở đầu hấp dẫn, không tiết lộ kết truyện, và kết thúc bằng lời kêu gọi đăng ký kênh 'Hành lang tối' cùng 3-5 hashtag liên quan." }
                            },
                            required: ["titles", "description"]
                        },
                    };
                    const result = await callGeminiAPI([{ role: "user", parts: [{ text: userPrompt }] }], generationConfig);
                    const parsedJson = JSON.parse(result);
                    displayContentResults(parsedJson);
                } catch (error) {
                    console.error("Error calling Gemini API for content:", error);
                    showError("Đã có lỗi xảy ra khi tạo nội dung. " + error.message, 'content');
                } finally {
                    setLoadingState(false, 'content');
                }
            }
            
            async function handleGeneratePrompt() {
                const selectedType = elements.prompt.select.value;
                const storyContent = elements.prompt.storyContent.value.trim();
                if (!storyContent) {
                    showError("Vui lòng dán nội dung câu chuyện vào ô.", 'prompt');
                    return;
                }
                setLoadingState(true, 'prompt');
                hideError('prompt');
                
                const baseInstruction = `Hãy phân tích nội dung câu chuyện được cung cấp dưới đây. Dựa vào nội dung đó, hãy tạo ra một prompt chi tiết và chuyên nghiệp.`;
                const storySection = `--- NỘI DUNG CÂU CHUYỆN --- \n${storyContent}\n --- KẾT THÚC NỘI DUNG ---`;
                let userRequest = '';
                
                switch (selectedType) {
                    case 'keypoints_image':
                        userRequest = `${baseInstruction} YÊU CẦU: Tạo một 'master prompt' (bằng tiếng Anh) để hướng dẫn một AI tạo hình. Master prompt này phải chỉ dẫn AI đó tạo ra 3-5 prompt hình ảnh riêng biệt, tương ứng với 3-5 khoảnh khắc hoặc biểu tượng quan trọng nhất trong câu chuyện đã cho. Mỗi prompt hình ảnh phải chi tiết, phù hợp với phong cách 'kinh dị sâu sắc, không hù dọa', bao gồm mô tả cảnh, không khí, phong cách nghệ thuật, bảng màu và các từ khóa phủ định. ${storySection}`;
                        break;
                    case 'intro_outro_image':
                        userRequest = `${baseInstruction} YÊU CẦU: Tạo một prompt chi tiết (bằng tiếng Anh) để sử dụng với AI tạo hình nhằm tạo ra hình ảnh nền cho intro/outro của kênh 'Hành lang tối'. Prompt cần phải dựa trên không khí và các yếu tố biểu tượng từ câu chuyện đã cho để gợi ý về màu sắc, ánh sáng, và cảm xúc tổng thể. Phân biệt rõ yêu cầu cho intro (gợi tò mò) và outro (duy trì không khí). ${storySection}`;
                        break;
                    case 'tts_guide':
                        userRequest = `${baseInstruction} YÊU CẦU: Tạo một prompt hướng dẫn chi tiết (bằng tiếng Việt) để điều khiển một AI chuyển văn bản thành giọng nói (TTS). Mục tiêu là để AI đó đọc lại chính câu chuyện này. Prompt cần chỉ định rõ các yếu tố: tông giọng (giọng miền Nam, trầm, bình tĩnh, bí ẩn), nhịp độ, cách ngắt nghỉ chiến lược tại những đoạn căng thẳng hoặc mô tả quan trọng có trong truyện, và mức độ biểu cảm tinh tế. ${storySection}`;
                        break;
                }

                try {
                    const result = await callGeminiAPI([{ role: "user", parts: [{ text: userRequest }] }]);
                    displayPromptResult(result);
                } catch (error) {
                    console.error("Error calling Gemini API for prompt:", error);
                    showError("Đã có lỗi xảy ra khi tạo prompt. " + error.message, 'prompt');
                } finally {
                    setLoadingState(false, 'prompt');
                }
            }


            // Helper Functions
            function getApiKey() {
                return apiKeyInput.value.trim() || localStorage.getItem('geminiApiKey') || "";
            }

            async function callGeminiAPI(chatHistory, generationConfig = null) {
                const payload = { contents: chatHistory };
                if (generationConfig) payload.generationConfig = generationConfig;
                const apiKey = getApiKey();
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    const errorBody = await response.json();
                    throw new Error(`Lỗi API: ${response.status} ${response.statusText}. Chi tiết: ${JSON.stringify(errorBody)}`);
                }
                const result = await response.json();
                if (result.candidates && result.candidates[0]?.content?.parts?.[0]) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    if (result.candidates?.[0]?.finishReason === 'SAFETY') {
                        const blockedCategories = result.candidates[0].safetyRatings.filter(r => r.probability !== 'NEGLIGIBLE').map(r => r.category).join(', ');
                        throw new Error(`Nội dung bị chặn vì lý do an toàn: ${blockedCategories || 'Không xác định'}. Vui lòng sửa lại nội dung truyện.`);
                    }
                    throw new Error("Không nhận được nội dung hợp lệ từ Gemini. Phản hồi có thể trống hoặc không đúng định dạng.");
                }
            }
            
            function copyToClipboard(text, buttonElement) {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    buttonElement.querySelector('span').textContent = 'Đã sao chép!';
                    setTimeout(() => {
                        buttonElement.querySelector('span').textContent = 'Sao chép ' + (buttonElement.id === 'copy-summary-button' ? 'Tóm Tắt' : 'Prompt');
                    }, 2000);
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                    buttonElement.querySelector('span').textContent = 'Lỗi!';
                }
                document.body.removeChild(textarea);
            }

            function setLoadingState(isLoading, toolType) {
                const tool = elements[toolType];
                if (tool) {
                    tool.btn.disabled = isLoading;
                    tool.buttonText.textContent = isLoading ? tool.loadingText : tool.baseText;
                    tool.loadingSpinner.classList.toggle('hidden', !isLoading);
                    tool.buttonIcon.classList.toggle('hidden', isLoading);
                }
            }

            function displayContentResults(data) {
                const tool = elements.content;
                tool.titleList.innerHTML = '';
                if (data.titles && Array.isArray(data.titles)) {
                    data.titles.forEach(title => {
                        const li = document.createElement('li');
                        li.textContent = title;
                        tool.titleList.appendChild(li);
                    });
                }
                tool.descriptionText.textContent = data.description || 'Không có mô tả.';
                tool.resultContainer.classList.remove('hidden');
            }
            
            function displaySummaryResult(summary) {
                const tool = elements.summarizer;
                tool.output.textContent = summary;
                tool.resultContainer.classList.remove('hidden');
            }

            function displayPromptResult(promptText) {
                const tool = elements.prompt;
                tool.output.textContent = promptText;
                tool.resultContainer.classList.remove('hidden');
            }

            function showError(message, toolType) {
                const tool = elements[toolType];
                if (tool) {
                    let finalMessage = message;
                    if(message.includes("API")){
                        finalMessage += " Hãy kiểm tra lại API Key trong phần Cài đặt hoặc thử lại sau."
                    }
                    tool.errorMessage.textContent = finalMessage;
                    tool.errorContainer.classList.remove('hidden');
                }
            }

            function hideError(toolType) {
                const tool = elements[toolType];
                if(tool) tool.errorContainer.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
